!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=19)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return void 0===t&&(t={}),{arrayFormat:t.arrayFormat||"none",booleanFormat:t.booleanFormat||"none",nullFormat:t.nullFormat||"default"}},o=function(t){return encodeURIComponent(t)},i=function(t){return decodeURIComponent(t)},a=function(t,e,r){return null===e?function(t,e){return"hidden"===e.nullFormat?"":"string"===e.nullFormat?t+"=null":t}(t,r):"boolean"==typeof e?function(t,e,r){return"empty-true"===r.booleanFormat&&e?t:t+"="+("unicode"===r.booleanFormat?e?"✓":"✗":e.toString())}(t,e,r):Array.isArray(e)?function(t,e,r){var n=function(t){return"index"===t.arrayFormat?function(t,e){return t+"["+e+"]"}:"brackets"===t.arrayFormat?function(t){return t+"[]"}:function(t){return t}}(r);return e.map(function(e,r){return n(t,r)+"="+o(e)}).join("&")}(t,e,r):t+"="+o(e)},u=function(t){var e=t.indexOf("?");return-1===e?t:t.slice(e+1)},s=function(t){var e=t.indexOf("["),r=-1!==e;return{hasBrackets:r,name:r?t.slice(0,e):t}},c=function(t,e){var r=n(e);return u(t).split("&").reduce(function(t,e){var n=e.split("="),o=n[0],a=n[1],u=s(o),c=u.hasBrackets,f=u.name,l=t[f],p=function(t,e){if(void 0===t)return"empty-true"===e.booleanFormat||null;if("string"===e.booleanFormat){if("true"===t)return!0;if("false"===t)return!1}else if("unicode"===e.booleanFormat){if("✓"===i(t))return!0;if("✗"===i(t))return!1}else if("string"===e.nullFormat&&"null"===t)return null;return i(t)}(a,r);return t[f]=void 0===l?c?[p]:p:[].concat(l,p),t},{})};e.parse=c,e.build=function(t,e){var r=n(e);return Object.keys(t).filter(function(e){return void 0!==t[e]}).map(function(e){return a(e,t[e],r)}).filter(Boolean).join("&")},e.omit=function(t,e,r){var o=n(r);if(""===u(t))return{querystring:"",removedParams:{}};var i=t.split("&").reduce(function(t,r){var n=t[0],o=t[1],i=r.split("=")[0],a=s(i).name;return-1===e.indexOf(a)?[n.concat(r),o]:[n,o.concat(r)]},[[],[]]),a=i[0],f=i[1];return{querystring:a.join("&"),removedParams:c(f.join("&"),o)}},e.keep=function(t,e,r){var o=n(r);if(""===u(t))return{keptParams:{},querystring:""};var i=t.split("&").reduce(function(t,r){var n=t[0],o=t[1],i=r.split("=")[0],a=s(i).name;return e.indexOf(a)>=0?[n.concat(r),o]:[n,o.concat(r)]},[[],[]]),a=i[0];i[1];return{keptParams:c(a.join("&"),o),querystring:a.join("&")}}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!f){var t=u(p);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||f||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";(function(t,n){var o,i=r(6);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:n;var a=Object(i.a)(o);e.a=a}).call(this,r(3),r(12)(t))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r;!function(r){!function(n){var o="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(r);function a(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===o.Reflect?o.Reflect=r:i=a(o.Reflect,i),function(e){var r=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,o=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,s=!a&&!u,c={create:a?function(){return k(Object.create(null))}:u?function(){return k({__proto__:null})}:function(){return k({})},has:s?function(t,e){return r.call(t,e)}:function(t,e){return e in t},get:s?function(t,e){return r.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},f=Object.getPrototypeOf(Function),l="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,o)},e.prototype.entries=function(){return new r(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}():Map,h=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,d=new(l||"function"!=typeof WeakMap?function(){var t=16,e=c.create(),n=o();return function(){function t(){this._key=o()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){var r=i(t,!0);return r[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=o()},t}();function o(){var t;do{t="@@WeakMap@@"+u()}while(c.has(e,t));return e[t]=!0,t}function i(t,e){if(!r.call(t,n)){if(!e)return;Object.defineProperty(t,n,{value:c.create()})}return t[n]}function a(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function u(){var e=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t);return a(new Array(t),t)}(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var o=e[n];4!==n&&6!==n&&8!==n||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}():WeakMap);function v(t,e,r){var n=d.get(t);if(_(n)){if(!r)return;n=new p,d.set(t,n)}var o=n.get(e);if(_(o)){if(!r)return;o=new p,n.set(e,o)}return o}function y(t,e,r){var n=v(e,r,!1);return!_(n)&&!!n.has(t)}function g(t,e,r){var n=v(e,r,!1);if(!_(n))return n.get(t)}function m(t,e,r,n){var o=v(r,n,!0);o.set(t,e)}function b(t,e){var r=[],n=v(t,e,!1);if(_(n))return r;for(var o=n.keys(),a=function(t){var e=N(t,i);if(!A(e))throw new TypeError;var r=e.call(t);if(!S(r))throw new TypeError;return r}(o),u=0;;){var s=j(a);if(!s)return r.length=u,r;var c=s.value;try{r[u]=c}catch(t){try{C(a)}finally{throw t}}u++}}function T(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function _(t){return void 0===t}function w(t){return null===t}function S(t){return"object"==typeof t?null!==t:"function"==typeof t}function O(t,e){switch(T(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",n=N(t,o);if(void 0!==n){var i=n.call(t,r);if(S(i))throw new TypeError;return i}return function(t,e){if("string"===e){var r=t.toString;if(A(r)){var n=r.call(t);if(!S(n))return n}var o=t.valueOf;if(A(o)){var n=o.call(t);if(!S(n))return n}}else{var o=t.valueOf;if(A(o)){var n=o.call(t);if(!S(n))return n}var i=t.toString;if(A(i)){var n=i.call(t);if(!S(n))return n}}throw new TypeError}(t,"default"===r?"number":r)}function E(t){var e=O(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function P(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function A(t){return"function"==typeof t}function R(t){return"function"==typeof t}function N(t,e){var r=t[e];if(void 0!==r&&null!==r){if(!A(r))throw new TypeError;return r}}function j(t){var e=t.next();return!e.done&&e}function C(t){var e=t.return;e&&e.call(t)}function I(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===f)return e;if(e!==f)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var o=n.constructor;return"function"!=typeof o?e:o===t?e:o}function k(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,r,n){if(_(r)){if(!P(t))throw new TypeError;if(!R(e))throw new TypeError;return function(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],o=n(e);if(!_(o)&&!w(o)){if(!R(o))throw new TypeError;e=o}}return e}(t,e)}if(!P(t))throw new TypeError;if(!S(e))throw new TypeError;if(!S(n)&&!_(n)&&!w(n))throw new TypeError;return w(n)&&(n=void 0),r=E(r),function(t,e,r,n){for(var o=t.length-1;o>=0;--o){var i=t[o],a=i(e,r,n);if(!_(a)&&!w(a)){if(!S(a))throw new TypeError;n=a}}return n}(t,e,r,n)}),e("metadata",function(t,e){return function(r,n){if(!S(r))throw new TypeError;if(!_(n)&&!function(t){switch(T(t)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;m(t,e,r,n)}}),e("defineMetadata",function(t,e,r,n){if(!S(r))throw new TypeError;_(n)||(n=E(n));return m(t,e,r,n)}),e("hasMetadata",function(t,e,r){if(!S(e))throw new TypeError;_(r)||(r=E(r));return function t(e,r,n){var o=y(e,r,n);if(o)return!0;var i=I(r);if(!w(i))return t(e,i,n);return!1}(t,e,r)}),e("hasOwnMetadata",function(t,e,r){if(!S(e))throw new TypeError;_(r)||(r=E(r));return y(t,e,r)}),e("getMetadata",function(t,e,r){if(!S(e))throw new TypeError;_(r)||(r=E(r));return function t(e,r,n){var o=y(e,r,n);if(o)return g(e,r,n);var i=I(r);if(!w(i))return t(e,i,n);return}(t,e,r)}),e("getOwnMetadata",function(t,e,r){if(!S(e))throw new TypeError;_(r)||(r=E(r));return g(t,e,r)}),e("getMetadataKeys",function(t,e){if(!S(t))throw new TypeError;_(e)||(e=E(e));return function t(e,r){var n=b(e,r);var o=I(e);if(null===o)return n;var i=t(o,r);if(i.length<=0)return n;if(n.length<=0)return i;var a=new h;var u=[];for(var s=0,c=n;s<c.length;s++){var f=c[s],l=a.has(f);l||(a.add(f),u.push(f))}for(var p=0,d=i;p<d.length;p++){var f=d[p],l=a.has(f);l||(a.add(f),u.push(f))}return u}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!S(t))throw new TypeError;_(e)||(e=E(e));return b(t,e)}),e("deleteMetadata",function(t,e,r){if(!S(e))throw new TypeError;_(r)||(r=E(r));var n=v(e,r,!1);if(_(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var o=d.get(e);return o.delete(r),o.size>0||(d.delete(e),!0)})}(i)}()}(r||(r={}))}).call(this,r(1),r(3))},function(t,e,r){"use strict";(function(e,n){var o=new Function("try {return this===window;}catch(e){return false;}"),i=new Function("try {return self instanceof WorkerGlobalScope;}catch(e){return false;}"),a=!1;if(!o()&&!i()&&!(a="true"===e.env.ES6)){var u=r(17),s=r(16),c=function(){for(var t=s.join(n,"ioc.config");!u.existsSync(t);){var e=s.normalize(s.join(s.dirname(t),"..","ioc.config"));if(t===e)return null;t=e}return t}();if(c&&u.existsSync(c))JSON.parse(u.readFileSync(c)).es6&&(a=!0)}t.exports=r(a?15:14)}).call(this,r(1),"/")},function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";r.r(e);var n=r(0),o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i=function(t){return"("+(t?t.replace(/(^<|>$)/g,""):"[a-zA-Z0-9-_.~%':|=+]+")+")"},a=[{name:"url-parameter",pattern:/^:([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(t){return new RegExp(i(t[2]))}},{name:"url-parameter-splat",pattern:/^\*([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/,regex:/([^?]*)/},{name:"url-parameter-matrix",pattern:/^;([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(t){return new RegExp(";"+t[1]+"="+i(t[2]))}},{name:"query-parameter",pattern:/^(?:\?|&)(?::)?([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/},{name:"delimiter",pattern:/^(\/|\?)/,regex:function(t){return new RegExp("\\"+t[0])}},{name:"sub-delimiter",pattern:/^(!|&|-|_|\.|;)/,regex:function(t){return new RegExp(t[0])}},{name:"fragment",pattern:/^([0-9a-zA-Z]+)/,regex:function(t){return new RegExp(t[0])}}],u=function(t,e){if(void 0===e&&(e=[]),!a.some(function(r){var n=t.match(r.pattern);return!!n&&(e.push({type:r.name,match:n[0],val:n.slice(1,2),otherVal:n.slice(2),regex:r.regex instanceof Function?r.regex(n):r.regex}),n[0].length<t.length&&(e=u(t.substr(n[0].length),e)),!0)}))throw new Error("Could not parse path '"+t+"'");return e},s=function(t){return t},c=function(t){return void 0!==t&&null!==t},f=function(){function t(t){if(!t)throw new Error("Missing path in Path constructor");this.path=t,this.tokens=u(t),this.hasUrlParams=this.tokens.filter(function(t){return/^url-parameter/.test(t.type)}).length>0,this.hasSpatParam=this.tokens.filter(function(t){return/splat$/.test(t.type)}).length>0,this.hasMatrixParams=this.tokens.filter(function(t){return/matrix$/.test(t.type)}).length>0,this.hasQueryParams=this.tokens.filter(function(t){return/^query-parameter/.test(t.type)}).length>0,this.spatParams=this.getParams("url-parameter-splat"),this.urlParams=this.getParams(/^url-parameter/),this.queryParams=this.getParams("query-parameter"),this.params=this.urlParams.concat(this.queryParams),this.source=this.tokens.filter(function(t){return void 0!==t.regex}).map(function(t){return t.regex.source}).join("")}return t.createPath=function(e){return new t(e)},t.prototype.isQueryParam=function(t){return-1!==this.queryParams.indexOf(t)},t.prototype.test=function(t,e){var r=this,i=o({strictTrailingSlash:!1,queryParams:{}},e),a=function(t,e){return e?t:"\\/"===t?t:t.replace(/\\\/$/,"")+"(?:\\/)?"}(this.source,i.strictTrailingSlash),u=this.urlTest(t,a+(this.hasQueryParams?"(\\?.*$|$)":"$"),e);if(!u||!this.hasQueryParams)return u;var s=Object(n.parse)(t,i.queryParams);return 0===Object.keys(s).filter(function(t){return!r.isQueryParam(t)}).length?(Object.keys(s).forEach(function(t){return u[t]=s[t]}),u):null},t.prototype.partialTest=function(t,e){var r=this,i=o({delimited:!0,queryParams:{}},e),a=function(t,e){return e?/(\/)$/.test(t)?t:t+"(\\/|\\?|\\.|;|$)":t}(this.source,i.delimited),u=this.urlTest(t,a,i);if(!u)return u;if(!this.hasQueryParams)return u;var s=Object(n.parse)(t,i.queryParams);return Object.keys(s).filter(function(t){return r.isQueryParam(t)}).forEach(function(t){return function(t,e,r){void 0===r&&(r="");var n=t[e];return t[e]=void 0===n?r:Array.isArray(n)?n.concat(r):[n,r],t}(u,t,s[t])}),u},t.prototype.build=function(t,e){var r=this;void 0===t&&(t={});var a=o({ignoreConstraints:!1,ignoreSearch:!1,queryParams:{}},e),u=Object.keys(t).filter(function(t){return!r.isQueryParam(t)}).reduce(function(e,n){if(!c(t[n]))return e;var o=t[n],i=r.isQueryParam(n)?s:encodeURI;return"boolean"==typeof o?e[n]=o:Array.isArray(o)?e[n]=o.map(i):e[n]=i(o),e},{});if(this.urlParams.some(function(e){return!c(t[e])})){var f=this.urlParams.filter(function(e){return!c(t[e])});throw new Error("Cannot build path: '"+this.path+"' requires missing parameters { "+f.join(", ")+" }")}if(!a.ignoreConstraints&&!this.tokens.filter(function(t){return/^url-parameter/.test(t.type)&&!/-splat$/.test(t.type)}).every(function(t){return new RegExp("^"+i(t.otherVal[0])+"$").test(u[t.val])}))throw new Error("Some parameters of '"+this.path+"' are of invalid format");var l=this.tokens.filter(function(t){return!1===/^query-parameter/.test(t.type)}).map(function(t){return"url-parameter-matrix"===t.type?";"+t.val+"="+u[t.val[0]]:/^url-parameter/.test(t.type)?u[t.val[0]]:t.match}).join("");if(a.ignoreSearch)return l;var p=this.queryParams.filter(function(e){return-1!==Object.keys(t).indexOf(e)}).reduce(function(e,r){return e[r]=t[r],e},{}),h=Object(n.build)(p,a.queryParams);return h?l+"?"+h:l},t.prototype.getParams=function(t){var e=t instanceof RegExp?function(e){return t.test(e.type)}:function(e){return e.type===t};return this.tokens.filter(e).map(function(t){return t.val[0]})},t.prototype.urlTest=function(t,e,r){var n=this,o=(void 0===r?{}:r).caseSensitive,i=new RegExp("^"+e,void 0!==o&&o?"":"i"),a=t.match(i);return a?this.urlParams.length?a.slice(1,this.urlParams.length+1).reduce(function(t,e,r){return t[n.urlParams[r]]=decodeURIComponent(e),t},{}):{}:null},t}(),l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},p=function(t){var e="";return t.reduce(function(t,r){var n=r.parser.urlParams.reduce(function(t,e){return t[e]="url",t},{}),o=r.parser.queryParams.reduce(function(t,e){return t[e]="query",t},n);return void 0!==r.name&&(t[e=e?e+"."+r.name:r.name]=o),t},{})},h=function(t,e,r,o,i){void 0===o&&(o={});for(var a=o.queryParamsMode,u=void 0===a?"default":a,s=o.strictTrailingSlash,c=void 0!==s&&s,f=o.strongMatching,l=void 0===f||f,p=o.caseSensitive,d=void 0!==p&&p,v=1===t.length&&""===t[0].name,y=function(t){var a,s,f=void 0,p=e;if("/"===i&&"/"===t.path&&(p="/"+e),t.children.length||(a=t.parser.test(p,{caseSensitive:d,strictTrailingSlash:c,queryParams:o.queryParams})),a||(a=t.parser.partialTest(p,{delimited:l,caseSensitive:d,queryParams:o.queryParams})),a){var y=t.parser.build(a,{ignoreSearch:!0});c||t.children.length||(y=y.replace(/\/$/,"")),f=p.replace(new RegExp("^"+y,"i"),""),c||t.children.length||(f=f.replace(/^\/\?/,"?"));var g=Object(n.omit)((s=p.replace(y,""),s.split("?")[1]||""),t.parser.queryParams,o.queryParams).querystring;if(f=function(t){return t.split("?")[0]}(f)+(g?"?"+g:""),c||v||"/"!==f||/\/$/.test(y)||(f=""),r.segments.push(t),Object.keys(a).forEach(function(t){return r.params[t]=a[t]}),!v&&!f.length)return{value:r};if(!v&&"strict"!==u&&0===f.indexOf("?")){var m=Object(n.parse)(f.slice(1),o.queryParams);return Object.keys(m).forEach(function(t){return r.params[t]=m[t]}),{value:r}}var b=t.getNonAbsoluteChildren();return b.length?{value:h(b,f,r,o,y)}:{value:null}}},g=0,m=t;g<m.length;g++){var b=y(m[g]);if("object"==typeof b)return b.value}return null},d=(l({},{queryParamsMode:"default",trailingSlashMode:"default"},{strongMatching:!0}),function(){function t(t,e,r,n,o){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===r&&(r=[]),this.name=t,this.absolute=/^~/.test(e),this.path=this.absolute?e.slice(1):e,this.parser=this.path?new f(this.path):null,this.children=[],this.parent=o,this.checkParents(),this.add(r,n),this}return t.prototype.getParentSegments=function(t){return void 0===t&&(t=[]),this.parent&&this.parent.parser?this.parent.getParentSegments(t.concat(this.parent)):t.reverse()},t.prototype.setParent=function(t){this.parent=t,this.checkParents()},t.prototype.setPath=function(t){void 0===t&&(t=""),this.path=t,this.parser=t?new f(t):null},t.prototype.add=function(e,r){var n=this;if(void 0!==e&&null!==e){if(!(e instanceof Array)){if(!(e instanceof t||e instanceof Object))throw new Error("RouteNode.add() expects routes to be an Object or an instance of RouteNode.");if(e instanceof t)e.setParent(this),this.addRouteNode(e);else{if(!e.name||!e.path)throw new Error("RouteNode.add() expects routes to have a name and a path defined.");var o=new t(e.name,e.path,e.children,r,this),i=o.getParentSegments([o]).map(function(t){return t.name}).join(".");r&&r(l({},e,{name:i})),this.addRouteNode(o)}return this}e.forEach(function(t){return n.add(t,r)})}},t.prototype.addNode=function(e,r){return this.add(new t(e,r)),this},t.prototype.getPath=function(t){return(e=this.getSegmentsByName(t))?e.map(function(t){return t.path}).join(""):null;var e},t.prototype.getNonAbsoluteChildren=function(){return this.children.filter(function(t){return!t.absolute})},t.prototype.buildPath=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),function(t,e,r){if(void 0===e&&(e={}),void 0===r&&(r={}),!t)return null;for(var o=r.queryParamsMode,i=void 0===o?"default":o,a=(r.trailingSlashMode,[]),u=[],s=0,c=t;s<c.length;s++){var f=c[s].parser;a.push.apply(a,f.queryParams),u.push.apply(u,f.urlParams),u.push.apply(u,f.spatParams)}if("loose"===i){var l=Object.keys(e).reduce(function(t,e){return-1===a.indexOf(e)&&-1===u.indexOf(e)?t.concat(e):t},[]);a.push.apply(a,l)}var p=a.reduce(function(t,r){return-1!==Object.keys(e).indexOf(r)&&(t[r]=e[r]),t},{}),h=Object(n.build)(p,r.queryParams),d=t.reduce(function(t,n){var o=n.parser.build(e,{ignoreSearch:!0,queryParams:r.queryParams});return n.absolute?o:t+o},"").replace(/\/\/{1,}/g,"/"),v=d;return"always"===r.trailingSlashMode?v=/\/$/.test(d)?d:d+"/":"never"===r.trailingSlashMode&&"/"!==d&&(v=/\/$/.test(d)?d.slice(0,-1):d),v+(h?"?"+h:"")}(this.getSegmentsByName(t),e,r)},t.prototype.buildState=function(t,e){void 0===e&&(e={});var r=this.getSegmentsByName(t);return r&&r.length?{name:t,params:e,meta:p(r)}:null},t.prototype.matchPath=function(t,e){void 0===e&&(e={}),""!==t||e.strictTrailingSlash||(t="/");var r=this.getSegmentsMatchingPath(t,e);if(r){var n=r.segments;if(n[0].absolute){var o=n[0].getParentSegments();n.reverse(),n.push.apply(n,o),n.reverse()}var i=n[n.length-1].findSlashChild();i&&n.push(i)}return function(t){return t&&t.segments&&t.segments.length?{name:t.segments.map(function(t){return t.name}).filter(function(t){return t}).join("."),params:t.params,meta:p(t.segments)}:null}(r)},t.prototype.addRouteNode=function(t,e){var r=t.name.split(".");if(1===r.length){if(-1!==this.children.map(function(t){return t.name}).indexOf(t.name))throw new Error('Alias "'+t.name+'" is already defined in route node');if(-1!==this.children.map(function(t){return t.path}).indexOf(t.path))throw new Error('Path "'+t.path+'" is already defined in route node');this.children.push(t);var n=this.children.slice(0);this.children.sort(function(t){return function(e,r){var n=e.path.replace(/<.*?>/g,"").split("?")[0].replace(/(.+)\/$/,"$1"),o=r.path.replace(/<.*?>/g,"").split("?")[0].replace(/(.+)\/$/,"$1");if("/"===n)return 1;if("/"===o)return-1;if(e.parser.hasSpatParam)return 1;if(r.parser.hasSpatParam)return-1;var i=(n.match(/\//g)||[]).length,a=(o.match(/\//g)||[]).length;if(i<a)return 1;if(i>a)return-1;var u=e.parser.urlParams.length,s=r.parser.urlParams.length;if(u<s)return-1;if(u>s)return 1;var c=(n.split("/").slice(-1)[0]||"").length,f=(o.split("/").slice(-1)[0]||"").length;return c<f?1:c>f?-1:t.indexOf(e)-t.indexOf(r)}}(n))}else{var o=this.getSegmentsByName(r.slice(0,-1).join("."));if(!o)throw new Error("Could not add route named '"+t.name+"', parent is missing.");t.name=r[r.length-1],o[o.length-1].add(t)}return this},t.prototype.checkParents=function(){if(this.absolute&&this.hasParentsParams())throw new Error("[RouteNode] A RouteNode with an abolute path cannot have parents with route parameters")},t.prototype.hasParentsParams=function(){if(this.parent&&this.parent.parser){var t=this.parent.parser;return t.hasUrlParams||t.hasSpatParam||t.hasMatrixParams||t.hasQueryParams||this.parent.hasParentsParams()}return!1},t.prototype.findAbsoluteChildren=function(){return this.children.reduce(function(t,e){return t.concat(e.absolute?e:[]).concat(e.findAbsoluteChildren())},[])},t.prototype.findSlashChild=function(){return this.getNonAbsoluteChildren().filter(function(t){return t.parser&&/^\/(\?|$)/.test(t.parser.path)})[0]},t.prototype.getSegmentsByName=function(t){var e=[],r=this.parser?[this]:this.children;return(this.parser?[""]:[]).concat(t.split(".")).every(function(t){var n=function(t,e){var r=e.filter(function(e){return e.name===t});return r.length?r[0]:void 0}(t,r);return!!n&&(r=n.children,e.push(n),!0)})?e:null},t.prototype.getSegmentsMatchingPath=function(t,e){var r=(this.parser?[this]:this.children).reduce(function(t,e){return t.concat(e,e.findAbsoluteChildren())},[]),n=h(r,t,{segments:[],params:{}},e);return n&&1===n.segments.length&&""===n.segments[0].name?null:n},t}()),v={ROUTER_NOT_STARTED:"NOT_STARTED",NO_START_PATH_OR_STATE:"NO_START_PATH_OR_STATE",ROUTER_ALREADY_STARTED:"ALREADY_STARTED",ROUTE_NOT_FOUND:"ROUTE_NOT_FOUND",SAME_STATES:"SAME_STATES",CANNOT_DEACTIVATE:"CANNOT_DEACTIVATE",CANNOT_ACTIVATE:"CANNOT_ACTIVATE",TRANSITION_ERR:"TRANSITION_ERR",TRANSITION_CANCELLED:"CANCELLED"},y={UNKNOWN_ROUTE:"@@router5/UNKNOWN_ROUTE",ROUTER_START:"$start",ROUTER_STOP:"$stop",TRANSITION_START:"$$start",TRANSITION_CANCEL:"$$cancel",TRANSITION_SUCCESS:"$$success",TRANSITION_ERROR:"$$error"},g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=function(){};function T(t){var e=!1;t.isStarted=function(){return e},t.start=function(){var r,n=t.getOptions(),o=(r=arguments.length-1,arguments.length<=r?void 0:arguments[r]),i="function"==typeof o?o:b,a="function"!=typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:void 0;if(e)return i({code:v.ROUTER_ALREADY_STARTED}),t;var u=void 0,s=void 0;e=!0,t.invokeEventListeners(y.ROUTER_START);var c=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e||t.invokeEventListeners(y.TRANSITION_SUCCESS,r,null,{replace:!0}),e&&n&&t.invokeEventListeners(y.TRANSITION_ERROR,r,null,e),i(e,r)};if(void 0===a&&!n.defaultRoute)return c({code:v.NO_START_PATH_OR_STATE});"string"==typeof a?u=a:"object"===(void 0===a?"undefined":m(a))&&(s=a);if(s)t.setState(s),c(null,s);else{var f=function(){return t.navigateToDefault({replace:!0},i)},l=function(e){t.transitionToState(e,t.getState(),{},function(e,r){var o;e?e.redirect?(o=e.redirect,t.navigate(o.name,o.params,{replace:!0,reload:!0,redirected:!0},i)):n.defaultRoute?f():c(e,null,!1):c(null,r)})};(s=void 0===u?null:t.matchPath(u))?l(s):n.defaultRoute?f():n.allowNotFound?l(t.makeNotFoundState(u,{replace:!0})):c({code:v.ROUTE_NOT_FOUND,path:u},null)}return t},t.stop=function(){e&&(t.setState(null),e=!1,t.invokeEventListeners(y.ROUTER_STOP));return t}}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function w(t){return t.split(".").reduce(function(t,e){return t.concat(t.length?t[t.length-1]+"."+e:e)},[])}function S(t){return t&&t.meta&&t.meta.params}function O(t,e){return void 0===(r=e.meta.params[t])||null===r?{}:Object.keys(e.meta.params[t]).reduce(function(t,r){return t[r]=e.params[r],t},{});var r}function E(t,e){var r=e?w(e.name):[],n=w(t.name),o=Math.min(r.length,n.length);var i=void 0;i=e&&(S(e)||S(t))?function(){var i=void 0,a=function(){var o=r[i],a=n[i];if(o!==a)return{v:i};var u=O(o,t),s=O(a,e);return u.length!==s.length?{v:i}:0===u.length?"continue":Object.keys(u).some(function(t){return s[t]!==u[t]})?{v:i}:void 0};for(i=0;i<o;i+=1){var u=a();switch(u){case"continue":continue;default:if("object"===(void 0===u?"undefined":_(u)))return u.v}}return i}():0;var a=r.slice(i).reverse(),u=n.slice(i);return{intersection:e&&i>0?r[i-1]:"",toDeactivate:a,toActivate:u}}var P=E,A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function N(t,e,r){var n=e.isCancelled,o=e.toState,i=e.fromState,a=e.errorKey,u=Array.isArray(t)?t:Object.keys(t),s=function(t){return"object"===(void 0===t?"undefined":R(t))&&void 0!==t.name&&void 0!==t.params&&void 0!==t.path},c=function(t,e,r,o){var a=function(t,e){var n,i;t?o(t):e&&e!==r&&s(e)?(n=e,((i=r).name!==n.name||i.params!==n.params||i.path!==n.path)&&console.error("[router5][transition] Warning: state values (name, params, path) were changed during transition process."),o(null,function(t,e){return A({},e,t,{meta:A({},e.meta,t.meta)})}(e,r))):o(null,r)},u=t.call(null,r,i,a);n()?a(null):"boolean"==typeof u?a(u?null:e):s(u)?a(null,u):u&&"function"==typeof u.then&&u.then(function(t){t instanceof Error?a({error:t},null):a(null,t)},function(t){t instanceof Error?(console.error(t.stack||t),a(A({},e,{promiseError:t}),null)):a("object"===(void 0===t?"undefined":R(t))?A({},e,t):e,null)})};!function e(o,i){if(n())r();else if(o)r(o);else if(u.length){var s="string"==typeof u[0],f=a&&s?(p={},h=a,d=u[0],h in p?Object.defineProperty(p,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[h]=d,p):{},l=s?t[u[0]]:u[0];u=u.slice(1),c(l,f,i,e)}else r(null,i);var p,h,d}(null,o)}var j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function I(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var k=function(t,e,r,n,o){var i=!1,a=!1,u=t.getOptions(),s=t.getLifecycleFunctions(),c=C(s,2),f=c[0],l=c[1],p=t.getMiddlewareFunctions(),h=function(){return i},d=function(t,e){return j({},t,e instanceof Object?e:{error:e})},g=e.name===y.UNKNOWN_ROUTE,m={isCancelled:h,toState:e,fromState:r},b=P(e,r),T=b.toDeactivate,_=b.toActivate,S=!r||n.forceDeactivate?[]:function(t,e,r){var n=T.filter(function(t){return f[t]}).reduce(function(t,e){return j({},t,I({},e,f[e]))},{});N(n,j({},m,{errorKey:"segment"}),function(t){return r(t?d({code:v.CANNOT_DEACTIVATE},t):null)})},O=g?[]:function(t,e,r){var n=_.filter(function(t){return l[t]}).reduce(function(t,e){return j({},t,I({},e,l[e]))},{});N(n,j({},m,{errorKey:"segment"}),function(t){return r(t?d({code:v.CANNOT_ACTIVATE},t):null)})},E=p.length?function(t,e,r){return N(p,j({},m),function(e,n){return r(e?d({code:v.TRANSITION_ERR},e):null,n||t)})}:[];return N([].concat(S).concat(O).concat(E),m,function(r,n){if(a=!0,!h()){if(!r&&u.autoCleanUp){var i=w(e.name);Object.keys(f).forEach(function(e){-1===i.indexOf(e)&&t.clearCanDeactivate(e)})}o(r,n||e)}}),function(){i||a||(i=!0,o({code:v.TRANSITION_CANCELLED},null))}};var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=function(){};var U=r(2),F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function D(t){var e=[];function r(t){var r="object"===(void 0===t?"undefined":F(t)),n=r?t.next.bind(t):t;e=e.concat(n);var o=function(){var t;(t=n)&&(e=e.filter(function(e){return e!==t}))};return r?{unsubscribe:o}:o}return t.subscribe=r,t[U.a]=function(){return t={subscribe:function(t){if("object"!==(void 0===t?"undefined":F(t))||null===t)throw new TypeError("Expected the observer to be an object.");return r(t)}},e=U.a,n=function(){return this},e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n},{onTransitionSuccess:function(t,r){e.forEach(function(e){return e({route:t,previousRoute:r})})}}}D.pluginName="OBSERVABLE_PLUGIN";var $=["onStart","onStop","onTransitionSuccess","onTransitionStart","onTransitionError","onTransitionCancel"];function q(t){var e=[],r=[];function n(n){o(n)||(e.push(n),function(e){var n=t.executeFactory(e),o=$.map(function(e){if(n[e])return t.addEventListener(e.toLowerCase().replace(/^on/,"$$").replace(/transition/,"$$"),n[e])}).filter(Boolean);r.push.apply(r,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(o))}(n))}function o(t){return e.filter(function(e){return e.pluginName===t||e.name===t}).length>0}t.usePlugin=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return r.forEach(n),t},t.hasPlugin=o,t.getPlugins=function(){return e}}var z=function(t){return"function"==typeof t?t:function(){return function(){return t}}};var B=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function K(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};var W={trailingSlashMode:"default",queryParamsMode:"default",strictTrailingSlash:!1,autoCleanUp:!0,allowNotFound:!1,strongMatching:!0,rewritePathOnMatch:!0,caseSensitive:!1};var Q=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,o=0,i={},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=V({},W);Object.keys(r).forEach(function(t){return h(t,r[t])});var s={config:{decoders:{},encoders:{},defaultParams:{}},rootNode:f,getOptions:function(){return u},setOption:h,getState:function(){return n},setState:function(t){n=t,t&&t.meta&&"number"==typeof t.meta.id&&(o=t.meta.id)},makeState:p,makeNotFoundState:function(t,e){return p(y.UNKNOWN_ROUTE,{path:t},t,{options:e})},setDependency:function(t,e){return a[t]=e,s},setDependencies:function(t){return Object.keys(t).forEach(function(e){a[e]=t[e]}),s},getDependencies:m,add:function(t){return f.add(t,l),s},addNode:function(t,e,r){return s.rootNode.addNode(t,e),r&&s.canActivate(t,r),s},executeFactory:function(t){return t.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}([s,m()]))},addEventListener:function(t,e){return i[t]=(i[t]||[]).concat(e),function(){return c(t,e)}},removeEventListener:c,invokeEventListeners:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(i[t]||[]).forEach(function(t){return t.apply(void 0,r)})}};function c(t,e){i[t]=i[t].filter(function(t){return t!==e})}!function(t){function e(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.name!==r.name)return!1;var o=function(e){return t.rootNode.getSegmentsByName(e).map(function(t){return t.parser.urlParams}).reduce(function(t,e){return t.concat(e)},[])},i=n?o(e.name):Object.keys(e.params),a=n?o(r.name):Object.keys(r.params);return i.length===a.length&&i.every(function(t){return e.params[t]===r.params[t]})}function r(t,e){return!!new RegExp("^"+t.name+"\\.(.*)$").test(e.name)&&Object.keys(t.params).every(function(r){return t.params[r]===e.params[r]})}function n(e,r){var n=t.config.forwardMap[e]||e;return{name:n,params:g({},t.config.defaultParams[e],t.config.defaultParams[n],r)}}t.isActive=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=t.getState();return!!u&&(i||u.name===n?e(t.makeState(n,o),u,a):r(t.makeState(n,o),u))},t.areStatesEqual=e,t.areStatesDescendants=r,t.buildPath=function(e,r){if(e===y.UNKNOWN_ROUTE)return r.path;var n=t.getOptions(),o=n.trailingSlashMode,i=n.queryParamsMode,a=n.queryParams,u=t.config.encoders[e]?t.config.encoders[e](r):r;return t.rootNode.buildPath(e,u,{trailingSlashMode:o,queryParamsMode:i,queryParams:a})},t.buildState=function(e,r){var o=n(e,r),i=o.name,a=o.params;return t.rootNode.buildState(i,a)},t.matchPath=function(e,r){var o=t.getOptions(),i=t.rootNode.matchPath(e,o);if(i){var a=i.name,u=i.params,s=i.meta,c=t.config.decoders[a]?t.config.decoders[a](u):u,f=n(a,c),l=f.name,p=f.params,h=!1===o.rewritePathOnMatch?e:t.buildPath(l,p);return t.makeState(l,p,h,{params:s,source:r})}return null},t.setRootPath=function(e){t.rootNode.setPath(e)}}(s),q(s),function(t){var e=[],r=[];function n(n){e.push(n),r.push(t.executeFactory(n))}t.useMiddleware=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return r.forEach(n),t},t.getMiddlewareFactories=function(){return e},t.getMiddlewareFunctions=function(){return r},t.clearMiddleware=function(){return e=[],r=[],t}}(s),function(t){t.usePlugin(D)}(s),function(t){var e={},r={},n={},o={};t.canDeactivate=function(r,o){var i=z(o);return e[r]=i,n[r]=t.executeFactory(i),t},t.canActivate=function(e,n){var i=z(n);return r[e]=i,o[e]=t.executeFactory(i),t},t.getLifecycleFactories=function(){return[e,r]},t.getLifecycleFunctions=function(){return[n,o]},t.clearCanDeactivate=function(r){return e[r]=void 0,n[r]=void 0,t}}(s),T(s),function(t){var e=void 0;function r(){return e&&(e("navigate"),e=null),t}function n(){var e,r=arguments.length<=0?void 0:arguments[0],i=(e=arguments.length-1,arguments.length<=e?void 0:arguments[e]),a="function"==typeof i?i:L,u="object"===M(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:{},s="object"===M(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:{};if(t.isStarted()){var c=t.buildState(r,u);if(!c){var f={code:v.ROUTE_NOT_FOUND};return a(f),void t.invokeEventListeners(y.TRANSITION_ERROR,null,t.getState(),f)}var l=t.makeState(c.name,c.params,t.buildPath(c.name,c.params),{params:c.meta,options:s}),p=!!t.getState()&&t.areStatesEqual(t.getState(),l,!1);if(p&&!s.reload&&!s.force){var h={code:v.SAME_STATES};return a(h),void t.invokeEventListeners(y.TRANSITION_ERROR,l,t.getState(),h)}var d=p||s.reload?null:t.getState();return s.skipTransition?(a(null,l),L):o(l,d,s,function(e,r){if(e)if(e.redirect){var o=e.redirect;n(o.name,o.params,x({},s,{force:!0,redirected:!0}),a)}else a(e);else t.invokeEventListeners(y.TRANSITION_SUCCESS,r,d,s),a(null,r)})}a({code:v.ROUTER_NOT_STARTED})}function o(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;return r(),t.invokeEventListeners(y.TRANSITION_START,n,o),e=k(t,n,o,i,function(r,i){e=null,i=i||n,r?(r.code===v.TRANSITION_CANCELLED?t.invokeEventListeners(y.TRANSITION_CANCEL,n,o):t.invokeEventListeners(y.TRANSITION_ERROR,n,o,r),a(r)):(t.setState(i),a(null,i))})}t.config.forwardMap={},t.navigate=n,t.navigateToDefault=function(){var e="object"===M(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:{},r=2===arguments.length?arguments.length<=1?void 0:arguments[1]:"function"==typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:L,o=t.getOptions();return o.defaultRoute?n(o.defaultRoute,o.defaultParams,e,r):function(){}},t.transitionToState=o,t.cancel=r,t.forward=function(e,r){return t.config.forwardMap[e]=r,t}}(s),function(t,e){t.clone=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=H({},t.getDependencies(),r),o=e(t.rootNode,t.getOptions(),n);o.useMiddleware.apply(o,K(t.getMiddlewareFactories())),o.usePlugin.apply(o,K(t.getPlugins())),o.config=t.config;var i=t.getLifecycleFactories(),a=B(i,2),u=a[0],s=a[1];return Object.keys(u).forEach(function(t){return o.canDeactivate(t,u[t])}),Object.keys(s).forEach(function(t){return o.canActivate(t,s[t])}),o}}(s,t);var f=e instanceof d?e:new d("","",e,l);return s.rootNode=f,s;function l(t){t.canActivate&&s.canActivate(t.name,t.canActivate),t.forwardTo&&s.forward(t.name,t.forwardTo),t.decodeParams&&(s.config.decoders[t.name]=t.decodeParams),t.encodeParams&&(s.config.encoders[t.name]=t.encodeParams),t.defaultParams&&(s.config.defaultParams[t.name]=t.defaultParams)}function p(t,e,r,n,i){var a={},u=function(t,e){return Object.defineProperty(a,t,{value:e,enumerable:!0})};if(u("name",t),u("params",e),u("path",r),n){var s=void 0;s=void 0===i?o+=1:i,u("meta",V({},n,{id:s}))}return a}function h(t,e){return u[t]=e,s}function m(){return a}},Z=function(){};function Y(){var t=void 0,e=void 0;return console.groupCollapsed?(t=function(t){return console.groupCollapsed(t)},e=function(){return console.groupEnd()}):console.group?(t=function(t){return console.group(t)},e=function(){return console.groupEnd()}):(t=Z,e=Z),console.info("Router started"),{onStop:function(){console.info("Router stopped")},onTransitionStart:function(r,n){e(),t("Router transition"),console.log("Transition started from state"),console.log(n),console.log("To state"),console.log(r)},onTransitionCancel:function(){console.warn("Transition cancelled")},onTransitionError:function(t,r,n){console.warn("Transition error with code "+n.code),e()},onTransitionSuccess:function(){console.log("Transition success"),e()}}}Y.pluginName="LOGGER_PLUGIN";var G=Y;r.d(e,"createRouter",function(){return Q}),r.d(e,"RouteNode",function(){return d}),r.d(e,"loggerPlugin",function(){return G}),r.d(e,"errorCodes",function(){return v}),r.d(e,"transitionPath",function(){return P}),r.d(e,"constants",function(){return y});e.default=Q},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function r(t){var r=t.match(/^(?:http|https):\/\/(?:[0-9a-z_\-.:]+?)(?=\/)(.*)$/),n=r?r[1]:t,o=n.match(/^(.+?)(#.+?)?(\?.+)?$/);if(!o)throw new Error("[router5] Could not parse url "+t);var i=o[1],a=o[2]||"",u=o[3]||"";return(e.useHash?a.replace(new RegExp("^#"+e.hashPrefix),""):e.base?i.replace(new RegExp("^"+e.base),""):i)+u}t.urlToPath=r,t.buildUrl=function(r,n){var o=e.base||"",i=e.useHash?"#"+e.hashPrefix:"",a=t.buildPath(r,n);return null===a?null:o+i+a},t.matchUrl=function(e){return t.matchPath(r(e))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return function(){return t}},o=function(){},i={};i="undefined"!=typeof window&&window.history?{getBase:function(){return window.location.pathname},pushState:function(t,e,r){return window.history.pushState(t,e,r)},replaceState:function(t,e,r){return window.history.replaceState(t,e,r)},addPopstateListener:function(t,e){var r=e.useHash&&!(-1===window.navigator.userAgent.indexOf("Trident"));return window.addEventListener("popstate",t),r&&window.addEventListener("hashchange",t),function(){window.removeEventListener("popstate",t),r&&window.removeEventListener("hashchange",t)}},getLocation:function(t){return((t.useHash?window.location.hash.replace(new RegExp("^#"+t.hashPrefix),""):window.location.pathname.replace(new RegExp("^"+t.base),"")).replace(/\|/g,"%7C")||"/")+window.location.search},getState:function(){return window.history.state},getHash:function(){return window.location.hash}}:{getBase:n(""),pushState:o,replaceState:o,addPopstateListener:o,getLocation:n(""),getState:n(null),getHash:n("")},e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.errorCodes={ROUTER_NOT_STARTED:"NOT_STARTED",NO_START_PATH_OR_STATE:"NO_START_PATH_OR_STATE",ROUTER_ALREADY_STARTED:"ALREADY_STARTED",ROUTE_NOT_FOUND:"ROUTE_NOT_FOUND",SAME_STATES:"SAME_STATES",CANNOT_DEACTIVATE:"CANNOT_DEACTIVATE",CANNOT_ACTIVATE:"CANNOT_ACTIVATE",TRANSITION_ERR:"TRANSITION_ERR",TRANSITION_CANCELLED:"CANCELLED"};e.default={UNKNOWN_ROUTE:"@@router5/UNKNOWN_ROUTE",ROUTER_START:"$start",ROUTER_STOP:"$stop",TRANSITION_START:"$$start",TRANSITION_CANCEL:"$$cancel",TRANSITION_SUCCESS:"$$success",TRANSITION_ERROR:"$$error"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=r(10),i=s(o),a=s(r(9)),u=s(r(8));function s(t){return t&&t.__esModule?t:{default:t}}var c={forceDeactivate:!0,useHash:!1,hashPrefix:"",base:!1,mergeState:!1,preserveHash:!0},f="popstate";e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default,r=n({},c,t),s={forceDeactivate:r.forceDeactivate,source:f},l=void 0;function p(t){var a=t.getOptions(),c=t.start;function p(t,o,i){var a=t?{meta:t.meta,name:t.name,params:t.params,path:t.path}:t,u=!0===r.mergeState?n({},e.getState(),a):a;i?e.replaceState(u,"",o):e.pushState(u,"",o)}function h(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=t.getState(),l=!u.state||!u.state.name,h=l?t.matchPath(e.getLocation(r),f):t.makeState(u.state.name,u.state.params,u.state.path,n({},u.state.meta,{source:f}),u.state.meta.id),d=a.defaultRoute,v=a.defaultParams;h?c&&t.areStatesEqual(h,c,!1)||t.transitionToState(h,c,s,function(e,r){if(e)if(e.redirect){var a=e.redirect,u=a.name,f=a.params;t.navigate(u,f,n({},s,{replace:!0,force:!0,redirected:!0}))}else if(e.code===o.errorCodes.CANNOT_DEACTIVATE){var y=t.buildUrl(c.name,c.params);l||p(h,y,!0)}else d&&t.navigate(d,v,n({},s,{reload:!0,replace:!0}));else t.invokeEventListeners(i.default.TRANSITION_SUCCESS,r,c,{replace:!0})}):d&&t.navigateToDefault(n({},s,{reload:!0,replace:!0}))}return(0,u.default)(t,r),t.start=function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return 0===o.length||"function"==typeof o[0]?c.apply(void 0,[e.getLocation(r)].concat(o)):c.apply(void 0,o),t},t.replaceHistoryState=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.buildState(r,n),i=t.buildUrl(r,n);t.lastKnownState=o,e.replaceState(o,"",i)},{onStart:function(){r.useHash&&!r.base&&(r.base=e.getBase()),l=e.addPopstateListener(h,r)},onStop:function(){l&&l()},onTransitionSuccess:function(n,o,i){var a=e.getState(),u=a&&a.meta&&a.name&&a.params,s=o&&t.areStatesEqual(o,n,!1),c=i.replace||!u||s,f=t.buildUrl(n.name,n.params);null===o&&!1===r.useHash&&!0===r.preserveHash&&(f+=e.getHash()),p(n,f,c)},onPopState:h}}return p.pluginName="BROWSER_PLUGIN",p}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7),o=r(11),i=new Map;e.RouterService=class{constructor(){console.log("Router initialized"),this.router=n.createRouter([]).usePlugin(o.default({useHash:!0})).usePlugin(this.createPlugin),this.router.start()}addRoute(t,e){i.has(t)&&console.error(t+" already exists!"),i.set(t,e),this.router.add([{path:t,name:t}]),console.log("Registered path : "+t)}createPlugin(t,e){return{onTransitionSuccess:(t,e)=>{console.log("Yippee, navigation to "+t.name+" was successful!"),null!==e&&i.get(e.name).onExit(),null!==t&&i.get(t.name).onEnter()}}}}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function i(t){var e=h.decorateConstructor(t);return u.bind(t).toConstructor(e),e}Object.defineProperty(e,"__esModule",{value:!0}),r(4),e.Singleton=function(t){u.bind(t).scope(f.Singleton)},e.Scoped=function(t){return function(e){u.bind(e).scope(t)}},e.Provided=function(t){return function(e){u.bind(e).provider(t)}},e.Provides=function(t){return function(e){u.bind(t).to(e)}},e.AutoWired=i,e.Inject=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<3||void 0===t[2])return function(t,e){var r=Reflect.getMetadata("design:type",t,e);r||(r=Reflect.getMetadata("design:type",t.constructor,e)),u.injectProperty(t.constructor,e,r)}.apply(this,t);if(3===t.length&&"number"==typeof t[2])return function(t,e,r){if(!e){var n=u.bind(t);n.paramTypes=n.paramTypes||[];var o=Reflect.getMetadata("design:paramtypes",t);n.paramTypes.unshift(o[r])}}.apply(this,t);throw new Error("Invalid @Inject Decorator declaration.")};var a=function(){function t(){}return t.bind=function(t){return u.isBound(t)?u.bind(t):(i(t),u.bind(t).to(t))},t.get=function(t){return u.get(t)},t.getType=function(t){return u.getType(t)},t.snapshot=function(e){var r=t.bind(e);t.snapshots.providers.set(e,r.iocprovider),r.iocscope&&t.snapshots.scopes.set(e,r.iocscope)},t.restore=function(e){if(!t.snapshots.providers.has(e))throw new TypeError("Config for source was never snapshoted.");var r=t.bind(e);r.provider(t.snapshots.providers.get(e)),t.snapshots.scopes.has(e)&&r.scope(t.snapshots.scopes.get(e))},t.snapshots={providers:new Map,scopes:new Map},t}();e.Container=a;var u=function(){function t(){}return t.isBound=function(e){s(e);var r=h.getConstructorFromType(e);return!!t.bindings.get(r)},t.bind=function(e){s(e);var r=h.getConstructorFromType(e),n=t.bindings.get(r);return n||(n=new c(r),t.bindings.set(r,n)),n},t.get=function(e){var r=t.bind(e);return r.iocprovider||r.to(r.source),r.getInstance()},t.getType=function(e){s(e);var r=h.getConstructorFromType(e),n=t.bindings.get(r);if(!n)throw new TypeError("The type "+e.name+" hasn't been registered with the IOC Container");return n.targetSource||n.source},t.injectProperty=function(e,r,n){var o="__"+r;Object.defineProperty(e.prototype,r,{enumerable:!0,get:function(){return this[o]?this[o]:this[o]=t.get(n)},set:function(t){this[o]=t}})},t.assertInstantiable=function(t){if(t.__block_Instantiation)throw new TypeError("Can not instantiate Singleton class. Ask Container for it, using Container.get")},t.bindings=new Map,t}();function s(t){if(!t)throw new TypeError("Invalid type requested to IoC container. Type is not defined.")}var c=function(){function t(t){this.source=t}return t.prototype.to=function(t){s(t);var e=h.getConstructorFromType(t);if(this.targetSource=e,this.source===e){var r=this;this.iocprovider={get:function(){var e,n=r.getParameters();return r.decoratedConstructor?n?new((e=r.decoratedConstructor).bind.apply(e,[void 0].concat(n))):new r.decoratedConstructor:n?new(t.bind.apply(t,[void 0].concat(n))):new t}}}else this.iocprovider={get:function(){return u.get(t)}};return this.iocscope&&this.iocscope.reset(this.source),this},t.prototype.provider=function(t){return this.iocprovider=t,this.iocscope&&this.iocscope.reset(this.source),this},t.prototype.scope=function(t){return this.iocscope=t,t===f.Singleton?(this.source.__block_Instantiation=!0,t.reset(this.source)):this.source.__block_Instantiation&&delete this.source.__block_Instantiation,this},t.prototype.withParams=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.paramTypes=t,this},t.prototype.toConstructor=function(t){return this.decoratedConstructor=t,this},t.prototype.getInstance=function(){return this.iocscope||this.scope(f.Local),this.iocscope.resolve(this.iocprovider,this.source)},t.prototype.getParameters=function(){return this.paramTypes?this.paramTypes.map(function(t){return u.get(t)}):null},t}(),f=function(){function t(){}return t.prototype.reset=function(t){},t}();e.Scope=f;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.resolve=function(t,e){return t.get()},e}(f);f.Local=new l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.resolve=function(t,r){var n=e.instances.get(r);return n||(r.__block_Instantiation=!1,n=t.get(),r.__block_Instantiation=!0,e.instances.set(r,n)),n},e.prototype.reset=function(t){e.instances.delete(h.getConstructorFromType(t))},e.instances=new Map,e}(f);f.Singleton=new p;var h=function(){function t(){}return t.decorateConstructor=function(t){var e;return(e=function(e){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=e.apply(this,r)||this;return u.assertInstantiable(t),o}return o(r,e),r}(t)).__parent=t,e},t.hasNamedConstructor=function(t){if(t.name)return"ioc_wrapper"!==t.name;try{var e=t.prototype.constructor.toString().match(this.constructorNameRegEx)[1];return e&&"ioc_wrapper"!==e}catch(t){}return!1},t.getConstructorFromType=function(t){var e=t;if(this.hasNamedConstructor(e))return e;for(;e=e.__parent;)if(this.hasNamedConstructor(e))return e;throw TypeError("Can not identify the base Type for requested target")},t.constructorNameRegEx=/function (\w*)/,t}()},function(t,e,r){"use strict";function n(t){const e=f.decorateConstructor(t);return i.bind(t).toConstructor(e),e}Object.defineProperty(e,"__esModule",{value:!0}),r(4),e.Singleton=function(t){i.bind(t).scope(s.Singleton)},e.Scoped=function(t){return function(e){i.bind(e).scope(t)}},e.Provided=function(t){return function(e){i.bind(e).provider(t)}},e.Provides=function(t){return function(e){i.bind(t).to(e)}},e.AutoWired=n,e.Inject=function(...t){if(t.length<3||void 0===t[2])return function(t,e){let r=Reflect.getMetadata("design:type",t,e);r||(r=Reflect.getMetadata("design:type",t.constructor,e)),i.injectProperty(t.constructor,e,r)}.apply(this,t);if(3===t.length&&"number"==typeof t[2])return function(t,e,r){if(!e){const e=i.bind(t);e.paramTypes=e.paramTypes||[];const n=Reflect.getMetadata("design:paramtypes",t);e.paramTypes.unshift(n[r])}}.apply(this,t);throw new Error("Invalid @Inject Decorator declaration.")};class o{static bind(t){return i.isBound(t)?i.bind(t):(n(t),i.bind(t).to(t))}static get(t){return i.get(t)}static getType(t){return i.getType(t)}static snapshot(t){const e=o.bind(t);o.snapshots.providers.set(t,e.iocprovider),e.iocscope&&o.snapshots.scopes.set(t,e.iocscope)}static restore(t){if(!o.snapshots.providers.has(t))throw new TypeError("Config for source was never snapshoted.");const e=o.bind(t);e.provider(o.snapshots.providers.get(t)),o.snapshots.scopes.has(t)&&e.scope(o.snapshots.scopes.get(t))}}o.snapshots={providers:new Map,scopes:new Map},e.Container=o;class i{static isBound(t){a(t);const e=f.getConstructorFromType(t);return!!i.bindings.get(e)}static bind(t){a(t);const e=f.getConstructorFromType(t);let r=i.bindings.get(e);return r||(r=new u(e),i.bindings.set(e,r)),r}static get(t){const e=i.bind(t);return e.iocprovider||e.to(e.source),e.getInstance()}static getType(t){a(t);const e=f.getConstructorFromType(t),r=i.bindings.get(e);if(!r)throw new TypeError(`The type ${t.name} hasn't been registered with the IOC Container`);return r.targetSource||r.source}static injectProperty(t,e,r){const n=`__${e}`;Object.defineProperty(t.prototype,e,{enumerable:!0,get:function(){return this[n]?this[n]:this[n]=i.get(r)},set:function(t){this[n]=t}})}static assertInstantiable(t){if(t.__block_Instantiation)throw new TypeError("Can not instantiate Singleton class. Ask Container for it, using Container.get")}}function a(t){if(!t)throw new TypeError("Invalid type requested to IoC container. Type is not defined.")}i.bindings=new Map;class u{constructor(t){this.source=t}to(t){a(t);const e=f.getConstructorFromType(t);if(this.targetSource=e,this.source===e){const e=this;this.iocprovider={get:()=>{const r=e.getParameters();return e.decoratedConstructor?r?new e.decoratedConstructor(...r):new e.decoratedConstructor:r?new t(...r):new t}}}else this.iocprovider={get:()=>i.get(t)};return this.iocscope&&this.iocscope.reset(this.source),this}provider(t){return this.iocprovider=t,this.iocscope&&this.iocscope.reset(this.source),this}scope(t){return this.iocscope=t,t===s.Singleton?(this.source.__block_Instantiation=!0,t.reset(this.source)):this.source.__block_Instantiation&&delete this.source.__block_Instantiation,this}withParams(...t){return this.paramTypes=t,this}toConstructor(t){return this.decoratedConstructor=t,this}getInstance(){return this.iocscope||this.scope(s.Local),this.iocscope.resolve(this.iocprovider,this.source)}getParameters(){return this.paramTypes?this.paramTypes.map(t=>i.get(t)):null}}class s{reset(t){}}e.Scope=s;s.Local=new class extends s{resolve(t,e){return t.get()}};class c extends s{resolve(t,e){let r=c.instances.get(e);return r||(e.__block_Instantiation=!1,r=t.get(),e.__block_Instantiation=!0,c.instances.set(e,r)),r}reset(t){c.instances.delete(f.getConstructorFromType(t))}}c.instances=new Map,s.Singleton=new c;class f{static decorateConstructor(t){let e;return(e=class extends t{constructor(...e){super(...e),i.assertInstantiable(t)}}).__parent=t,e}static hasNamedConstructor(t){if(t.name)return"ioc_wrapper"!==t.name;try{const e=t.prototype.constructor.toString().match(this.constructorNameRegEx)[1];return e&&"ioc_wrapper"!==e}catch(t){}return!1}static getConstructorFromType(t){let e=t;if(this.hasNamedConstructor(e))return e;for(;e=e.__parent;)if(this.hasNamedConstructor(e))return e;throw TypeError("Can not identify the base Type for requested target")}}f.constructorNameRegEx=/function (\w*)/},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,n="/"===a.charAt(0))}return e=r(i(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===a(t,-1);return(t=r(i(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}var c=[];for(s=u;s<o.length;s++)c.push("..");return(c=c.concat(i.slice(u))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(1))},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5),o=[];function i(){console.log("loadAll"),o.forEach(t=>{n.Container.get(t)})}e.OnInit=function(t){console.log("OnInit"),o.push(t),n.Singleton(t)},e.loadAll=i,window.onload=i},function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});const i=r(18),a=r(13),u=r(5);let s=class extends a.RouterService{};s=n([i.OnInit],s);let c=class{constructor(){this.routerService.addRoute("/user",this)}onEnter(){console.log("Entered on user")}onExit(){console.log("Exited on user")}};n([u.Inject,o("design:type",s)],c.prototype,"routerService",void 0),c=n([i.OnInit,o("design:paramtypes",[])],c);let f=class{constructor(){this.routerService.addRoute("/dashboard",this)}onEnter(){console.log("Entered on dashboard")}onExit(){console.log("Exited on dashboard")}};n([u.Inject,o("design:type",s)],f.prototype,"routerService",void 0),f=n([i.OnInit,o("design:paramtypes",[])],f)}]);
//# sourceMappingURL=app.js.map